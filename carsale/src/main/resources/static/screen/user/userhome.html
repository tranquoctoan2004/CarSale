<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CarSale - Home</title>
    <link rel="stylesheet" href="/style/global/user.css" />
    <link rel="stylesheet" href="/style/user/userhome.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body>
    <div id="header"></div>

    <main class="main-container">
      <aside class="banner">
        <img
          src="/image/banner-left.gif"
          alt="Banner Left"
          onerror="this.style.display='none'" />
      </aside>

      <section class="content">
        <div class="bestseller">
          <h2>Bestseller</h2>
          <p id="welcomeMessage" style="color: #666">Loading showroom...</p>
        </div>
        <div class="view-more-container">
          <button
            class="view-more-btn"
            onclick="location.href='/screen/user/car.html'">
            View All Cars <span>→</span>
          </button>
        </div>
        <div class="cards" id="bestseller-container"></div>

        <div class="review-section">
          <div class="review-header-flex">
            <h2>Customer Reviews</h2>
            <div class="search-comment-wrapper">
              <input
                type="text"
                id="searchUserCmt"
                placeholder="Search by username..."
                oninput="debounceSearch()" />
              <i class="fa-solid fa-magnifying-glass"></i>
            </div>
          </div>
          <div id="commentsContainer" class="comments-list"></div>
        </div>

        <div class="comment-form-box">
          <h2 id="formTitle">Leave a Comment</h2>
          <input type="hidden" id="editingCommentId" value="" />

          <div class="rating-stars">
            <span>Your Rating:</span>
            <div class="star-group">
              <input
                type="radio"
                name="rating"
                value="5"
                id="st5"
                checked /><label for="st5">★</label>
              <input type="radio" name="rating" value="4" id="st4" /><label
                for="st4"
                >★</label
              >
              <input type="radio" name="rating" value="3" id="st3" /><label
                for="st3"
                >★</label
              >
              <input type="radio" name="rating" value="2" id="st2" /><label
                for="st2"
                >★</label
              >
              <input type="radio" name="rating" value="1" id="st1" /><label
                for="st1"
                >★</label
              >
            </div>
          </div>

          <textarea
            id="commentInput"
            placeholder="Tell us what you think about our cars..."></textarea>

          <div class="comment-actions">
            <button
              id="btnSubmitCmt"
              class="submit"
              onclick="handleCommentSubmit()">
              Submit Review
            </button>
            <button
              id="btnCancelEdit"
              class="delete"
              onclick="resetCommentForm()"
              style="display: none">
              Cancel
            </button>
            <button
              class="clear-btn"
              onclick="document.getElementById('commentInput').value=''">
              Clear
            </button>
          </div>
        </div>
      </section>

      <aside class="banner">
        <img
          src="/image/banner-right.gif"
          alt="Banner Right"
          onerror="this.style.display='none'" />
      </aside>
    </main>

    <div id="carModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <div class="modal-body" id="modalBody"></div>
      </div>
    </div>

    <div id="footer"></div>

    <script src="/script/common/layout.js"></script>
    <script src="/script/user/userhome.js"></script>
    <script src="/script/user/userhomeComment.js"></script>
  </body>
</html>

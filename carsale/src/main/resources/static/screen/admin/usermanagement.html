<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Management</title>

    <link rel="stylesheet" href="/style/global/admin.css" />
    <link rel="stylesheet" href="/style/admin/usermanagement.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  </head>

  <body>
    <!-- HEADER -->
    <div id="header"></div>

    <div class="main-layout">
      <!-- SIDEBAR -->
      <div id="sidebar"></div>

      <!-- CONTENT -->
      <section class="content">
        <!-- Page header -->
        <div class="page-header">
          <h2>User Management</h2>
          <button class="btn-add" id="addUserBtn">
            <i class="fa-solid fa-user-plus"></i> Add New User
          </button>
        </div>

        <p>Manage system accounts and permissions</p>

        <!-- Search + Filters -->
        <div class="filters">
          <input
            type="text"
            placeholder="Search by username or email..."
            class="search-input" />

          <select>
            <option value="filterStatus">All Status</option>
            <option value="active">ACTIVE</option>
            <option value="inactive">INACTIVE</option>
            <option value="banned">BANNED</option>
          </select>
        </div>

        <!-- Users Table -->
        <div class="table-box">
          <h3>Users List</h3>

          <table class="data-table">
            <thead>
              <tr>
                <th onclick="sortById()" style="cursor: pointer" id="idHeader">
                  ID <i class="fa-solid fa-sort"></i>
                </th>
                <th>Username</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
                <th>Created At</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="userTableBody">
              <!-- JS render -->
            </tbody>
          </table>
        </div>
      </section>
    </div>
    <!-- USER MODAL Signup-->
    <div id="addModal" class="modal hidden">
      <div class="modal-overlay" onclick="closeAddModal()"></div>
      <div class="modal-content admin-signup-modal">
        <button class="modal-close" onclick="closeAddModal()">
          <i class="fa-solid fa-xmark"></i>
        </button>

        <iframe
          src=""
          id="signupFrame"
          style="
            width: 100%;
            height: 600px;
            border: none;
            border-radius: 8px;
          "></iframe>
      </div>
    </div>
    <!-- USER MODAL-->
    <div id="userModal" class="modal hidden">
      <div class="modal-overlay"></div>

      <div class="modal-content">
        <button class="modal-close" id="closeModal">
          <i class="fa-solid fa-xmark"></i>
        </button>

        <!-- VIEW MODE -->
        <div id="viewUserBox">
          <h3>User Detail</h3>

          <div class="user-detail">
            <img
              id="detailAvatar"
              src="/images/avatar-default.png"
              alt="avatar" />

            <div class="info">
              <p><b>ID:</b> <span id="detailId"></span></p>
              <p><b>Username:</b> <span id="detailUsername"></span></p>
              <p><b>Fullname:</b> <span id="detailFullname"></span></p>
              <p><b>Email:</b> <span id="detailEmail"></span></p>
              <p><b>Phone:</b> <span id="detailPhone"></span></p>
              <p><b>Status:</b> <span id="detailStatus"></span></p>
              <p><b>Roles:</b> <span id="detailRoles"></span></p>
            </div>
          </div>
        </div>

        <!-- EDIT MODE -->
        <div id="editUserBox" class="hidden">
          <h3>Edit User</h3>

          <input type="hidden" id="editUserId" />

          <label>Status</label>
          <select id="editStatus">
            <option value="ACTIVE">ACTIVE</option>
            <option value="INACTIVE">INACTIVE</option>
            <option value="BANNED">BANNED</option>
          </select>

          <button class="btn-save" id="saveUserBtn">Save Changes</button>
        </div>
      </div>
    </div>

    <script src="/script/common/layoutadmin.js"></script>
    <script src="/script/admin/usermanagement.js"></script>
  </body>
</html>
